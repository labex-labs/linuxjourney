---
index: 4
lang: "en"
title: "/etc/hosts"
meta_title: "/etc/hosts - DNS"
meta_description: "Learn about the /etc/hosts file in Linux, how it maps hostnames to IP addresses, and its role in DNS resolution. Understand basic network configuration."
meta_keywords: "/etc/hosts, Linux networking, hostname mapping, DNS resolution, Linux tutorial, beginner guide"
---

## Lesson Content

Before our machine actually hits DNS to do a query, it first looks locally on our machines.

### /etc/hosts

The `/etc/hosts` file contains mappings of some hostnames to IP addresses. The fields are pretty self-explanatory: there is one for the IP address, the hostname, and then any aliases for the host.

```plaintext
pete@icebox:~$ cat /etc/hosts
127.0.0.1       localhost
127.0.1.1       icebox
```

You'll typically see your localhost address listed as a default in this file. You can also manage access to hosts by modifying the `/etc/hosts.deny` or `/etc/hosts.allow` files. However, if you were security-conscious, this isn't really the way to go, and you should be modifying your firewall rules instead.

Let's see a fun example of `/etc/hosts`. Modify the file and add a line for:

```plaintext
123.45.6.7  www.google.com
```

Save the file and now go to `www.google.com`. Having issues, aren't you? Well, that's because we just mapped `www.google.com` to a completely wrong IP address. Since our hosts first look locally for IP address mappings, it never reaches DNS to find google.com.

### /etc/resolv.conf

Traditionally, we've used a file called `/etc/resolv.conf` to map DNS name servers for more efficient lookups. However, with the improvements made to DNS, this file is quite often irrelevant. In fact, you can see in my example below that `/etc/resolv.conf` isn't managed manually. Refer to your distribution-specific settings to manage DNS name server mappings.

```plaintext
conf(5) file for glibc resolver(3) generated by resolvconf(8)
#     DO NOT EDIT THIS FILE BY HAND -- YOUR CHANGES WILL BE OVERWRITTEN
nameserver 127.0.1.1
search localdomain
```

## Exercise

Practice makes perfect! Here are some hands-on labs to reinforce your understanding of local hostname resolution and DNS queries:

1. **[Manage Local Hostname Resolution in Linux](https://labex.io/labs/linux-manage-local-hostname-resolution-in-linux-592792)** - Practice editing the `/etc/hosts` file to manage local hostname resolution, a key step before DNS queries.
2. **[Query DNS Records in Linux with dig and nslookup](https://labex.io/labs/linux-query-dns-records-in-linux-with-dig-and-nslookup-592796)** - Learn to query DNS records using essential Linux tools like `dig` and `nslookup` to understand how your machine resolves external names.

These labs will help you apply the concepts in real scenarios and build confidence with hostname resolution and DNS.

## Quiz Question

What file is used to map hostnames to IP addresses on our machines?

## Quiz Answer

/etc/hosts
