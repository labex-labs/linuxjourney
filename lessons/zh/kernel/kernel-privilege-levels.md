---
index: 2
lang: "zh"
title: "特权级别"
meta_title: "特权级别 - 内核"
meta_description: "了解 Linux 特权级别、内核模式和用户模式。理解保护环和系统调用以实现安全的硬件访问。开始你的 Linux 之旅！"
meta_keywords: "Linux 特权级别，内核模式，用户模式，保护环，系统调用，Linux 安全，Linux 初学者，Linux 教程"
---

## Lesson Content

接下来的几课会比较理论化，所以如果你正在寻找一些实用的内容，可以跳过并稍后再回来。

为什么用户空间和内核要有不同的抽象层？为什么不能将这两种功能合并到一个层中？嗯，这两个层独立存在是有充分理由的。它们都在不同的模式下运行：内核在内核模式下运行，用户空间在用户模式下运行。

在内核模式下，内核拥有对硬件的完全访问权限；它控制一切。在用户空间模式下，你只能访问非常少量的安全内存和 CPU。基本上，当我们想要做任何涉及硬件的事情时——从磁盘读取数据、向磁盘写入数据、控制网络等等——所有这些都在内核模式下完成。为什么这是必要的？想象一下，如果你的机器感染了间谍软件；你肯定不希望它直接访问你系统的硬件。它可能会访问你所有的数据、你的网络摄像头等等，那可不好。

这些不同的模式被称为特权级别（恰如其分地命名为你能获得的特权级别），通常被描述为保护环。为了更容易描绘这幅画面，假设你发现布兰妮·斯皮尔斯在城里的当地俱乐部。她受到她的粉丝团、然后是她的私人保镖、然后是俱乐部外面的保安的保护。你想要她的签名（为什么不呢？），但你无法接近她，因为她受到严密保护。这些环的工作方式相同：最内层的环对应着最高的特权级别。在 x86 计算机架构中有两个主要的级别或模式。环 #3 是用户模式应用程序运行的特权；环 #0 是内核运行的特权。环 #0 可以执行任何系统指令并被赋予完全信任。那么现在我们知道了这些特权级别是如何工作的，我们如何才能向硬件写入任何东西呢？我们难道不会总是处于与内核不同的模式吗？

答案是系统调用。系统调用允许我们在内核模式下执行特权指令，然后切换回用户模式。

## Exercise

熟能生巧！理解用户空间、内核空间和特权级别的理论概念至关重要，但动手实践有助于巩固这些概念如何在实际的 Linux 管理中体现。以下是一些动手实验，以加强你对用户级操作如何与底层系统交互的理解：

1. **[使用 useradd、usermod 和 userdel 管理 Linux 用户账户](https://labex.io/zh/labs/comptia-manage-linux-user-accounts-with-useradd-usermod-and-userdel-590837)** - 练习创建、修改和删除用户账户，这直接关系到管理在用户空间中运行并需要内核交互以执行特权操作的实体。
2. **[在 Linux 中管理文件和目录权限](https://labex.io/zh/labs/comptia-manage-file-and-directory-permissions-in-linux-590844)** - 学习控制文件和目录的访问权限，这是一个核心安全概念，它依赖于内核根据用户权限强制执行权限。
3. **[管理和监控 Linux 进程](https://labex.io/zh/labs/comptia-manage-and-monitor-linux-processes-590864)** - 探索如何与进程交互和监控进程，这些进程是用户空间应用程序，它们向内核发出系统调用以进行资源管理和执行。

这些实验将帮助你应用用户与 Linux 系统交互的概念，其中内核在管理资源和强制执行权限方面的作用至关重要，并建立对基本 Linux 管理任务的信心。

## Quiz Question

哪个环号拥有最高权限？

## Quiz Answer

0
