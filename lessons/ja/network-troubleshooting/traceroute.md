---
lang: "ja"
title: "traceroute"
meta_title: "traceroute - トラブルシューティング"
meta_description: "Linux の traceroute コマンドを使用してネットワークルートをトレースし、接続の問題をトラブルシューティングする方法を学びます。初心者向けに TTL とパケットルーティングを理解します。"
meta_keywords: "traceroute, Linux ネットワーキング，ネットワークトラブルシューティング，TTL, Linux コマンド，初心者，チュートリアル"
---

## Lesson Content

`traceroute`コマンドは、パケットがどのようにルーティングされるかを確認するために使用されます。これは、TTL (Time To Live) 値を 1 から始めて徐々に増やしながらパケットを送信することで機能します。そのため、最初のルーターはパケットを受信し、TTL 値を 1 つ減らしてパケットを破棄します。ルーターは ICMP Time Exceeded メッセージを私たちに送り返します。次に、次のパケットは TTL が 2 になるため、最初のルーターを通過しますが、2 番目のルーターに到達すると TTL が 0 になり、別の ICMP Time Exceeded メッセージを返します。Traceroute はこのように機能します。パケットを送信して破棄するにつれて、最終的に目的地に到達して ICMP Echo Reply メッセージを受信するまで、パケットが通過するルーターのリストを構築します。

以下は traceroute の短いスニペットです。

```bash
$ traceroute google.com
traceroute to google.com (216.58.216.174), 30 hops max, 60 byte packets
 1  192.168.4.254 (192.168.4.254)  0.028 ms  0.009 ms  0.008 ms
 2  100.64.1.113 (100.64.1.113)  1.227 ms  1.226 ms 0.920 ms
 3  100.64.0.20 (100.64.0.20)  1.501 ms 1.556 ms  0.855 ms
```

各行は、あなたとターゲットの間にあるルーターまたはマシンを表します。ターゲットの名前とその IP アドレスが表示され、最後の 3 つの列は、そのルーターに到達するためのパケットの往復時間に対応します。デフォルトでは、ルートに沿って 3 つのパケットが送信されます。

## Exercise

お使いのマシンで`traceroute`コマンドを実行し、出力を観察してください。

## Quiz Question

ネットワークをホップする際に 1 つずつ減らされるものは何ですか？

## Quiz Answer

TTL
