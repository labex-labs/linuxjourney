---
lang: "ja"
title: "プロセスの終了"
meta_description: "Linux プロセスの終了、孤児プロセスとゾンビプロセスについて学びます。効果的なプロセス管理のための_exit および wait システムコールを理解します。"
meta_keywords: "Linux プロセス終了，ゾンビプロセス，孤児プロセス，wait システムコール，_exit, Linux チュートリアル，Linux 初心者"
---

## Lesson Content

プロセスが作成されるときに何が起こるかを知った今、不要になったときに何が起こるのでしょうか？警告しておきますが、Linux は少し暗くなることがあります...

プロセスは `_exit` システムコールを使用して終了できます。これにより、そのプロセスが使用していたリソースが解放され、再割り当て可能になります。したがって、プロセスが終了する準備ができたとき、それは終了ステータスと呼ばれるもので、なぜ終了するのかをカーネルに知らせます。最も一般的には、ステータス 0 はプロセスが成功したことを意味します。しかし、それだけではプロセスを完全に終了させるには不十分です。親プロセスは `wait` システムコールを使用して子プロセスの終了を承認する必要があり、これは子プロセスの終了ステータスを確認します。考えるのはぞっとしますが、`wait` コールは必要不可欠です。結局のところ、自分の子供がどのように死んだかを知りたくない親がいるでしょうか？

プロセスを終了させる別の方法があり、それはシグナルを使用することですが、これについては後ほど説明します。

### Orphan Processes

親プロセスが子プロセスより先に終了した場合、カーネルは `wait` コールが行われないことを知っているため、これらのプロセスを「孤児」にし、`init` (すべてのプロセスの母であることを思い出してください) の管理下に置きます。`init` は最終的にこれらの孤児のために `wait` システムコールを実行し、それらが終了できるようにします。

### Zombie Processes

子が終了し、親プロセスがまだ `wait` を呼び出していない場合はどうなるでしょうか？子プロセスがどのように終了したかを確認できるようにしたいので、子プロセスが終了しても、カーネルは子プロセスをゾンビプロセスに変えます。子プロセスが使用していたリソースは他のプロセスに解放されますが、このゾンビのためにプロセステーブルにはまだエントリが残っています。ゾンビプロセスは技術的に「死んでいる」ため、殺すことはできません。したがって、シグナルを使用してそれらを殺すことはできません。最終的に、親プロセスが `wait` システムコールを呼び出すと、ゾンビは消滅します。これは「reaping」として知られています。親が `wait` コールを実行しない場合、`init` がゾンビを引き取り、自動的に `wait` を実行してゾンビを削除します。ゾンビプロセスが多すぎると、プロセステーブルのスペースを占有するため、問題になる可能性があります。プロセステーブルがいっぱいになると、他のプロセスが実行できなくなります。

## Exercise

No exercises for this lesson.

## Quiz Question

プロセスが成功した場合の最も一般的な終了ステータスは何ですか？

## Quiz Answer

0
