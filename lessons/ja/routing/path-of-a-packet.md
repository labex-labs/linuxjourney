---
title: "パケットの経路"
description: "パケットがネットワーク内およびネットワーク外をどのように移動するかを学びます。ネットワーク通信のための IP、MAC、ARP、およびルーティングテーブルを理解します。Linux ネットワーキングの旅を始めましょう！"
keywords: "パケット移動，ネットワーク通信，ARP, IP アドレス，MAC アドレス，ルーティングテーブル，Linux ネットワーキング，初心者ガイド"
---

## Lesson Content

### パケットがローカルネットワーク内をどのように移動するかを見てみましょう

1. まず、ローカルマシンは、サブネットマスクを見て、宛先 IP アドレスが同じサブネット内にあるかどうかを比較します。
2. パケットが送信されるとき、送信元 MAC アドレス、宛先 MAC アドレス、送信元 IP アドレス、および宛先 IP アドレスが必要です。この時点では、宛先 MAC アドレスは不明です。
3. 宛先ホストに到達するために、ARP を使用してローカルネットワークにリクエストをブロードキャストし、宛先ホストの MAC アドレスを見つけます。
4. これでパケットは正常に送信できます！

### パケットがネットワーク外をどのように移動するかを見てみましょう

1. まず、ローカルマシンは宛先 IP アドレスを比較します。ネットワーク外であるため、宛先ホストの MAC アドレスは認識されません。また、ARP リクエストはローカルに接続されたホストへのブロードキャストであるため、ARP を使用することはできません。
2. そこで、パケットはルーティングテーブルを参照します。宛先 IP のアドレスがわからないため、デフォルトゲートウェイ（別のルーター）に送信します。したがって、パケットには送信元 IP、宛先 IP、送信元 MAC が含まれますが、宛先 MAC はありません。MAC アドレスは同じネットワーク内でのみ到達可能であることを思い出してください。では、どうするのでしょうか？デフォルトゲートウェイの MAC アドレスを取得するために ARP リクエストを送信します。
3. ルーターはパケットを見て宛先 MAC アドレスを確認しますが、最終的な宛先 IP アドレスではないため、ルーティングテーブルを参照し続け、パケットを宛先に進めるのに役立つ別の IP アドレスに転送します。パケットが移動するたびに、古い送信元および宛先 MAC アドレスを削除し、新しい送信元および宛先 MAC アドレスでパケットを更新します。
4. パケットが同じネットワークに転送されると、ARP を使用して最終的な宛先 MAC アドレスを見つけます。
5. このプロセス中、パケットは送信元または宛先 IP アドレスを変更しません。

## Exercise

No exercises for this lesson.

## Quiz Question

IP アドレスの MAC アドレスはどのように見つけますか？

## Quiz Answer

ARP
