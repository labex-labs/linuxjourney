---
lang: "ja"
title: "System V の概要"
description: "System V init、そのランレベル、および Linux でのプロセス管理について学びます。初心者および中級ユーザー向けの SysV の基本を理解します。"
keywords: "System V, SysV init, Linux ランレベル，init システム，Linux チュートリアル，初心者ガイド，プロセス管理"
---

## Lesson Content

init の主な目的は、システム上の重要なプロセスを開始および停止することです。Linux には、init の主要な実装が 3 つあります。System V、Upstart、および systemd です。このレッスンでは、最も伝統的なバージョンの init である System V init、または Sys V（「システムファイブ」と発音）について説明します。

Sys V init 実装を使用しているかどうかを確認するには、`/etc/inittab`ファイルを確認します。このファイルが存在する場合、ほとんどの場合 Sys V を実行しています。

Sys V はプロセスを順次開始および停止します。たとえば、`foo-a`というサービスを開始したい場合、`foo-a`がすでに実行されていないと`foo-b`は機能しません。Sys V はこれをスクリプトで実現します。これらのスクリプトは、サービスを開始および停止します。独自のスクリプトを作成することもできますが、ほとんどの場合、オペレーティングシステムに組み込まれており、重要なサービスをロードするために使用されるものを使用します。

この init 実装を使用する利点は、`foo-a`が`foo-b`の前に来ることを知っているため、依存関係を解決するのが比較的簡単であることです。ただし、通常は一度に 1 つのことしか開始または停止しないため、パフォーマンスはあまり良くありません。

Sys V を使用する場合、マシンの状態はランレベルによって定義され、0 から 6 に設定されます。これらの異なるモードはディストリビューションによって異なりますが、ほとんどの場合、次のようになります。

- 0: シャットダウン
- 1: シングルユーザーモード
- 2: ネットワークなしのマルチユーザーモード
- 3: ネットワークありのマルチユーザーモード
- 4: 未使用
- 5: ネットワークと GUI ありのマルチユーザーモード
- 6: 再起動

システムが起動すると、どのランレベルにあるかを確認し、そのランレベル設定内にあるスクリプトを実行します。スクリプトは**/etc/rc.d/rc[runlevel number].d/**または**/etc/init.d**にあります。S（開始）またはK（終了）で始まるスクリプトは、それぞれ起動時とシャットダウン時に実行されます。これらの文字の横の数字は、実行される順序を示します。

例：

```bash
pete@icebox:/etc/rc.d/rc0.d$ ls
K10updates  K80openvpn
```

ランレベル 0 またはシャットダウンモードに切り替えると、マシンは更新サービスを終了し、次に OpenVPN を終了するスクリプトを実行しようとすることがわかります。マシンがどのランレベルで起動しているかを確認するには、`/etc/inittab`ファイルでデフォルトのランレベルを確認できます。このファイルでデフォルトのランレベルを変更することもできます。

注意点：System V は徐々に置き換えられつつあります。今日ではないかもしれませんが、数年後にはそうなるかもしれません。ただし、他の init 実装でランレベルが登場するのを見かけるかもしれません。これは主に、System V init スクリプトを使用してのみ開始または停止されるサービスをサポートするためです。

## Exercise

System V を実行している場合、マシンのデフォルトのランレベルを別のものに変更して、何が起こるかを確認してください。

## Quiz Question

シャットダウンに通常使用されるランレベルは何ですか？

## Quiz Answer

0
