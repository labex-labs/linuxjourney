---
index: 5
lang: "ja"
title: "env (環境)"
meta_title: "env (環境) - Text-Fu"
meta_description: "Linux の env コマンドの機能を探ります。このガイドでは、env コマンドを使用して PATH、HOME、USER などの Linux 環境変数を表示し、利用する方法を解説します。"
meta_keywords: "env, linux env, env linux, env コマンド，linux env コマンド，linux env 意味，環境変数，PATH 変数，シェル変数"
---

## Lesson Content

お使いの Linux システムは、シェルや他のプロセスがアクセスできる情報を格納するために環境変数を使用します。これらの変数は、ユーザーセッションとシステム構成に関する役立つデータを保持しています。

### 基本的な環境変数の探索

特定の変数の値を確認するには、その変数の名の前に`$`記号を付けます。例えば、次のコマンドを実行します。

```bash
echo $HOME
```

このコマンドはホームディレクトリへのパスを表示します。これは`/home/pete`のような形式になるかもしれません。

次に、別のものを試してみましょう。

```bash
echo $USER
```

これは現在のユーザー名を出力します。しかし、この情報はどこから来るのでしょうか？それはシェルの環境に格納されています。

### Linux における env の役割

現在セッションに設定されているすべての環境変数を表示するには、`env`コマンドを使用できます。`linux env command`は、シェルの設定を調べるための基本的なツールです。

```bash
env
```

`env`コマンドを実行すると、キーと値のペアのリストが出力されます。表示される内容の簡単な例を次に示します。

```plaintext
PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/bin
PWD=/home/user
USER=pete
```

`linux env`を理解することは、システムを効果的に管理するために不可欠です。

### PATH 変数の重要性

`env linux`の出力の中で最も重要な変数の 1 つが`PATH`です。次のコマンドでその内容を具体的に確認できます。

```bash
echo $PATH
```

このコマンドは、コロンで区切られたディレクトリのリストを返します。コマンドを入力すると、システムはこれらのディレクトリを検索して、対応する実行可能ファイルを探します。

手動で`/opt/coolapp/bin`のような標準的でないディレクトリにプログラムをインストールしたと想像してください。`coolcommand`と入力して実行しようとすると、「command not found」エラーが発生する可能性があります。これは、プログラムが含まれるディレクトリが`PATH`変数にリストされていないため、シェルがどこを探せばよいかわからないからです。

これを修正するには、新しいディレクトリを含めるように`PATH`変数を変更できます。カスタムディレクトリを`PATH`に追加することで、ターミナル上のどこからでもシェルがプログラムを見つけて実行できるようになります。

### 現在のセッションの環境変数の設定

ターミナルで次のコマンドを実行すると、現在のセッションでのみ環境変数`TEST`が設定されます。

```bash
export TEST=test
```

この後、次のように実行すると。

```bash
echo $TEST
```

出力は次のようになります。

```
test
```

この変数は、ターミナルセッションが開いている限り利用可能です。ターミナルを閉じて再度開くと、変数は存在しなくなります。

### 環境変数をセッション間で永続化する

環境変数を（ターミナルを閉じて再度開いた後でも）すべてのターミナルセッションで利用可能にしたい場合は、シェルの起動ファイルに追加する必要があります。Bash（多くの Linux ディストリビューションと macOS のデフォルトシェル）の場合、このファイルは通常、ホームディレクトリにある`.bashrc`です。

手順は次のとおりです。

1.  お好みのテキストエディタで`.bashrc`を開きます。例えば次のとおりです。

        ```bash

    nano ~/.bashrc
    ```

2.  ファイルの末尾に`export`行を追加します。

        ```bash

    export TEST=test
    ```

3.  エディタを保存して終了します（Nano の場合、これは`Ctrl+X`、次に確認のために`Y`、そして`Enter`です）。

4.  変更をすぐに適用するために、ターミナルを再起動せずに次を実行します。

        ```bash

    source ~/.bashrc
    ```

その後、`TEST`変数は将来のすべてのターミナルセッションで利用可能になり、ターミナルを閉じて再度開いた後でも`echo $TEST`を実行すると`test`と表示されます。

### シェル設定ファイルに関する注意点

- **Bash**（多くのシステムでデフォルト）の場合、関連ファイルは非ログイン対話型シェルでは`~/.bashrc`です。
- **Zsh**の場合、同等のファイルは通常`~/.zshrc`です。
- **Fish**の場合、通常は`~/.config/fish/config.fish`を使用します。

## Exercise

練習あるのみです！Linux 環境変数の理解を深めるための実践的なラボをいくつかご紹介します。

1. **[Linux におけるシェル環境と設定の管理](https://labex.io/ja/labs/comptia-manage-shell-environment-and-configuration-in-linux-590838)** - ローカル変数と環境変数の作成と管理、継承の理解、`.bashrc`ファイルの変更による設定の永続化を練習します。
2. **[Linux の環境変数](https://labex.io/ja/labs/linux-environment-variables-in-linux-385274)** - 環境変数の概念と使用法、作成、変更、管理方法、およびシステム構成におけるその役割について学習します。
3. **[Linux 環境変数の設定](https://labex.io/ja/labs/linux-configure-linux-environment-variables-437861)** - Linux システムで環境変数の作成、設定、管理を実践的に経験します。

これらのラボは、実際のシナリオで概念を適用し、Linux シェル環境の管理に対する自信を築くのに役立ちます。

## Quiz Question

現在のすべての環境変数を表示するコマンドはどれですか？（回答は英語で、小文字のコマンド名のみを使用してください）。

## Quiz Answer

env
