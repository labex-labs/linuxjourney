---
index: 3
lang: "ja"
title: "ディスクの構造"
meta_title: "ディスクの構造 - ファイルシステム"
meta_description: "Linux のディスクパーティション分割、MBR と GPT、ファイルシステム構造について学びます。パーティション、テーブル、データの整理方法を理解しましょう。この初心者向けガイドから始めましょう！"
meta_keywords: "Linux ディスクパーティション分割，MBR, GPT, ファイルシステム構造，Linux パーティション，初心者，チュートリアル，ガイド"
---

## Lesson Content

ハードディスクはパーティションに細分化でき、実質的に複数のブロックデバイスを作成します。`/dev/sda1` や `/dev/sda2` のような例を思い出してください。`/dev/sda` はディスク全体ですが、`/dev/sda1` はそのディスク上の最初のパーティションです。パーティションはデータを分離するのに非常に便利で、特定のファイルシステムが必要な場合、ディスク全体を 1 つのファイルシステムタイプにするのではなく、簡単にパーティションを作成できます。

### Partition Table

すべてのディスクにはパーティションテーブルがあります。このテーブルは、ディスクがどのようにパーティション分割されているかをシステムに伝えます。このテーブルは、パーティションがどこで始まりどこで終わるか、どのパーティションがブート可能か、ディスクのどのセクタがどのパーティションに割り当てられているかなどを教えてくれます。使用される主要なパーティションテーブルスキームは 2 つあります：Master Boot Record (MBR) と GUID Partition Table (GPT) です。

### Partition

ディスクは、データを整理するのに役立つパーティションで構成されています。1 つのディスクに複数のパーティションを持つことができ、それらは互いに重複することはできません。パーティションに割り当てられていない領域がある場合、それはフリースペースとして知られています。パーティションのタイプは、パーティションテーブルによって異なります。パーティション内には、ファイルシステムを持つことも、スワップのような他のものにパーティションを専用にすることもできます（これについてはすぐに説明します）。

_MBR_

- 従来のパーティションテーブルで、標準として使用されていました
- プライマリ、拡張、論理パーティションを持つことができます
- MBR は 4 つのプライマリパーティションの制限があります
- 追加のパーティションは、プライマリパーティションを拡張パーティションにすることで作成できます（1 つのディスクには 1 つの拡張パーティションしか存在できません）。次に、拡張パーティション内に論理パーティションを追加します。論理パーティションは他のパーティションと同じように使用されます。ばかげているのは知っています。
- 最大 2 テラバイトのディスクをサポートします

_GPT_

- GUID Partition Table (GPT) は、ディスクパーティション分割の新しい標準になりつつあります
- 1 種類のパーティションしかなく、多数作成できます
- 各パーティションにはグローバルに一意な ID (GUID) があります
- 主に UEFI ベースのブートと組み合わせて使用されます（詳細は別のコースで説明します）

### Filesystem Structure

前回のレッスンで、ファイルシステムがファイルとディレクトリの整理されたコレクションであることを学びました。最も単純な形では、ファイルを管理するためのデータベースと実際のファイル自体で構成されていますが、もう少し詳しく見ていきましょう。

- Boot block - これはファイルシステムの最初の数セクタに位置し、ファイルシステム自体では実際には使用されません。むしろ、オペレーティングシステムをブートするために使用される情報を含んでいます。オペレーティングシステムが必要とするブートブロックは 1 つだけです。複数のパーティションがある場合、それらにはブートブロックがありますが、その多くは使用されません。
- Super block - これはブートブロックの後に来る単一のブロックで、inode テーブルのサイズ、論理ブロックのサイズ、ファイルシステムのサイズなど、ファイルシステムに関する情報を含んでいます。
- Inode table - これはファイルを管理するデータベースと考えてください（inode についてはレッスン全体がありますのでご心配なく）。各ファイルまたはディレクトリは inode テーブルに一意のエントリを持ち、ファイルに関するさまざまな情報を持っています。
- Data blocks - これはファイルとディレクトリの実際のデータです。

異なるパーティションテーブルを見てみましょう。以下は、MBR パーティションテーブル (msdos) を使用したパーティションの例です。マシン上のプライマリ、拡張、論理パーティションを確認できます。

```plaintext
pete@icebox:~$ sudo parted -l
Model: Seagate (scsi)
Disk /dev/sda: 21.5GB
Sector size (logical/physical): 512B/512B
Partition Table: msdos

Number  Start   End     Size    Type      File system     Flags
 1      1049kB  6860MB  6859MB  primary   ext4            boot
 2      6861MB  21.5GB  14.6GB  extended
 5      6861MB  7380MB  519MB   logical   linux-swap(v1)
 6      7381MB  21.5GB  14.1GB  logical   xfs
```

この例は GPT で、パーティションに一意の ID のみを使用しています。

```plaintext
Model: Thumb Drive (scsi)
Disk /dev/sdb: 4041MB
Sector size (logical/physical): 512B/512B
Partition Table: gpt

Number  Start   End     Size     File system  Name        Flags
 1      17.4kB  1000MB  1000MB                first
 2      1000MB  4040MB  3040MB                second
```

## Exercise

お使いのマシンで **parted -l** を実行し、結果を評価してください。

## Quiz Question

MBR パーティションスキームで 4 つ以上のパーティションを作成するために使用されるパーティションタイプは何ですか？

## Quiz Answer

extended
