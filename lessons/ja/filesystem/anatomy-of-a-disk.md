---
index: 3
lang: "ja"
title: "ディスクの構造"
meta_title: "ディスクの構造 - ファイルシステム"
meta_description: "Linux のディスクパーティション分割、MBR と GPT、ファイルシステム構造について学びましょう。パーティション、テーブル、データの整理方法を理解しましょう。この初心者向けガイドで始めましょう！"
meta_keywords: "Linux ディスクパーティション分割，MBR, GPT, ファイルシステム構造，Linux パーティション，初心者，チュートリアル，ガイド"
---

## Lesson Content

ハードディスクはパーティションに細分化でき、本質的に複数のブロックデバイスを作成できます。`/dev/sda1` や `/dev/sda2` のような例を思い出してください。`/dev/sda` はディスク全体ですが、`/dev/sda1` はそのディスク上の最初のパーティションです。パーティションはデータを分離するのに非常に役立ち、特定のファイルシステムが必要な場合は、ディスク全体を 1 つのファイルシステムタイプにする代わりに、簡単にパーティションを作成できます。

### パーティションテーブル

すべてのディスクにはパーティションテーブルがあります。このテーブルは、ディスクがどのようにパーティション分割されているかをシステムに伝えます。このテーブルは、パーティションの開始と終了、どのパーティションがブート可能か、ディスクのどのセクタがどのパーティションに割り当てられているかなどを教えてくれます。使用されるパーティションテーブルスキームには、Master Boot Record (MBR) と GUID Partition Table (GPT) の 2 つがあります。

### パーティション

ディスクは、データを整理するのに役立つパーティションで構成されています。1 つのディスクに複数のパーティションを持つことができ、それらは互いに重複することはできません。パーティションに割り当てられていない領域がある場合、それは空き領域として知られています。パーティションの種類は、パーティションテーブルによって異なります。パーティション内には、ファイルシステムを持つことも、スワップなどの他のものにパーティションを割り当てることもできます（これについてはすぐに説明します）。

_MBR_

- 従来のパーティションテーブルで、標準として使用されていました。
- プライマリ、拡張、論理パーティションを持つことができます。
- MBR は 4 つのプライマリパーティションの制限があります。
- 追加のパーティションは、プライマリパーティションを拡張パーティションにすることで作成できます（1 つのディスクには 1 つの拡張パーティションしか存在できません）。次に、拡張パーティション内に論理パーティションを追加します。論理パーティションは他のパーティションと同じように使用されます。ばかげているのはわかっています。
- 2 テラバイトまでのディスクをサポートします。

_GPT_

- GUID Partition Table (GPT) は、ディスクパーティション分割の新しい標準になりつつあります。
- パーティションの種類は 1 つだけで、多数作成できます。
- 各パーティションにはグローバルに一意の ID (GUID) があります。
- 主に UEFI ベースのブートと組み合わせて使用されます（詳細は別のコースで説明します）。

### ファイルシステム構造

前回のレッスンで、ファイルシステムがファイルとディレクトリの整理されたコレクションであることを学びました。最も単純な形式では、ファイルを管理するためのデータベースと実際のファイル自体で構成されていますが、もう少し詳しく見ていきましょう。

- ブートブロック - これはファイルシステムの最初の数セクタに位置し、ファイルシステム自体にはあまり使用されません。むしろ、オペレーティングシステムをブートするために使用される情報が含まれています。オペレーティングシステムには 1 つのブートブロックしか必要ありません。複数のパーティションがある場合、それらにはブートブロックがありますが、その多くは未使用です。
- スーパーブロック - これはブートブロックの後に来る単一のブロックで、inode テーブルのサイズ、論理ブロックのサイズ、ファイルシステムのサイズなど、ファイルシステムに関する情報が含まれています。
- Inode テーブル - これはファイルを管理するデータベースと考えてください（inode については別のレッスンで詳しく説明するので心配しないでください）。各ファイルまたはディレクトリには inode テーブルに一意のエントリがあり、ファイルに関するさまざまな情報が含まれています。
- データブロック - これはファイルとディレクトリの実際のデータです。

さまざまなパーティションテーブルを見てみましょう。以下は、MBR パーティションテーブル (msdos) を使用したパーティションの例です。マシン上のプライマリ、拡張、論理パーティションを確認できます。

```plaintext
pete@icebox:~$ sudo parted -l
Model: Seagate (scsi)
Disk /dev/sda: 21.5GB
Sector size (logical/physical): 512B/512B
Partition Table: msdos

Number  Start   End     Size    Type      File system     Flags
 1      1049kB  6860MB  6859MB  primary   ext4            boot
 2      6861MB  21.5GB  14.6GB  extended
 5      6861MB  7380MB  519MB   logical   linux-swap(v1)
 6      7381MB  21.5GB  14.1GB  logical   xfs
```

この例は GPT で、パーティションに一意の ID のみを使用しています。

```plaintext
Model: Thumb Drive (scsi)
Disk /dev/sdb: 4041MB
Sector size (logical/physical): 512B/512B
Partition Table: gpt

Number  Start   End     Size     File system  Name        Flags
 1      17.4kB  1000MB  1000MB                first
 2      1000MB  4040MB  3040MB                second
```

## Exercise

練習は完璧をもたらします！ディスクのパーティション分割とファイルシステムの理解を深めるための実践的なラボをいくつか紹介します。

1. **[Linux パーティションとファイルシステムを管理する](https://labex.io/ja/labs/comptia-manage-linux-partitions-and-filesystems-590845)** - 新しいパーティションの作成、ext4 などのファイルシステムでのフォーマット、マウント、`/etc/fstab`での永続的なマウントの設定を練習します。

このラボは、実際のシナリオでディスク管理の概念を適用し、Linux ストレージに対する自信を築くのに役立ちます。

## Quiz Question

MBR パーティションスキームで 4 つ以上のパーティションを作成するために使用されるパーティションタイプは何ですか？

## Quiz Answer

extended
