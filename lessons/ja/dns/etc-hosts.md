---
index: 4
lang: "ja"
title: "/etc/hosts"
meta_title: "/etc/hosts - DNS"
meta_description: "Linux の/etc/hosts ファイルについて、ホスト名を IP アドレスにマッピングする方法、および DNS 解決におけるその役割を学びます。基本的なネットワーク設定を理解しましょう。"
meta_keywords: "/etc/hosts, Linux ネットワーキング，ホスト名マッピング，DNS 解決，Linux チュートリアル，初心者ガイド"
---

## Lesson Content

私たちのマシンが実際に DNS にクエリを出す前に、まずローカルでマシンを調べます。

### /etc/hosts

`/etc/hosts`ファイルには、いくつかのホスト名と IP アドレスのマッピングが含まれています。フィールドは非常に分かりやすいです。IP アドレス、ホスト名、そしてホストのエイリアスがあります。

```plaintext
pete@icebox:~$ cat /etc/hosts
127.0.0.1       localhost
127.0.1.1       icebox
```

通常、このファイルには localhost アドレスがデフォルトでリストされています。`/etc/hosts.deny`または`/etc/hosts.allow`ファイルを変更することで、ホストへのアクセスを管理することもできます。しかし、セキュリティを重視するなら、これは適切な方法ではなく、代わりにファイアウォールルールを変更すべきです。

`/etc/hosts`の面白い例を見てみましょう。ファイルを変更して、次の行を追加してください。

```plaintext
123.45.6.7  www.google.com
```

ファイルを保存して、`www.google.com`にアクセスしてみてください。問題が発生しましたね？それは、`www.google.com`を全く間違った IP アドレスにマッピングしたからです。私たちのホストはまず IP アドレスのマッピングをローカルで探すため、google.com を見つけるために DNS に到達することはありません。

### /etc/resolv.conf

従来、より効率的なルックアップのために DNS ネームサーバーをマッピングするために`/etc/resolv.conf`というファイルを使用していました。しかし、DNS の改善により、このファイルはしばしば無関係になっています。実際、以下の私の例では、`/etc/resolv.conf`が手動で管理されていないことがわかります。DNS ネームサーバーのマッピングを管理するには、ディストリビューション固有の設定を参照してください。

```plaintext
conf(5) file for glibc resolver(3) generated by resolvconf(8)
#     DO NOT EDIT THIS FILE BY HAND -- YOUR CHANGES WILL BE OVERWRITTEN
nameserver 127.0.1.1
search localdomain
```

## Exercise

練習は完璧をもたらします！ローカルホスト名の解決と DNS クエリの理解を深めるための実践的な演習をいくつか紹介します。

1. **[Linux でローカルホスト名の解決を管理する](https://labex.io/ja/labs/linux-manage-local-hostname-resolution-in-linux-592792)** - DNS クエリの前に重要なステップである、`/etc/hosts`ファイルを編集してローカルホスト名の解決を管理する練習をします。
2. **[dig と nslookup を使用して Linux で DNS レコードをクエリする](https://labex.io/ja/labs/linux-query-dns-records-in-linux-with-dig-and-nslookup-592796)** - `dig`や`nslookup`といった Linux の必須ツールを使用して DNS レコードをクエリし、マシンがどのように外部名を解決するかを理解する方法を学びます。

これらの演習は、実際のシナリオで概念を適用し、ホスト名の解決と DNS に対する自信を築くのに役立ちます。

## Quiz Question

マシン上でホスト名を IP アドレスにマッピングするために使用されるファイルは何ですか？

## Quiz Answer

/etc/hosts
