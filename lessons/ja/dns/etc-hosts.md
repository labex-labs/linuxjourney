---
index: 4
lang: "ja"
title: "/etc/hosts"
meta_title: "/etc/hosts - DNS"
meta_description: "Linux の/etc/hosts ファイル、ホスト名を IP アドレスにマッピングする方法、および DNS 解決におけるその役割について学びます。基本的なネットワーク設定を理解します。"
meta_keywords: "/etc/hosts, Linux ネットワーキング，ホスト名マッピング，DNS 解決，Linux チュートリアル，初心者ガイド"
---

## Lesson Content

マシンが実際に DNS にクエリを実行する前に、まずローカルでマシンを検索します。

### /etc/hosts

`/etc/hosts` ファイルには、いくつかのホスト名と IP アドレスのマッピングが含まれています。フィールドは非常に分かりやすく、IP アドレス、ホスト名、そしてホストのエイリアスがあります。

```plaintext
pete@icebox:~$ cat /etc/hosts
127.0.0.1       localhost
127.0.1.1       icebox
```

通常、このファイルには localhost アドレスがデフォルトでリストされています。`/etc/hosts.deny` または `/etc/hosts.allow` ファイルを変更することで、ホストへのアクセスを管理することもできます。しかし、セキュリティを重視するなら、これは適切な方法ではなく、代わりにファイアウォールルールを変更すべきです。

`/etc/hosts` の面白い例を見てみましょう。ファイルを変更して、次の行を追加してください。

```plaintext
123.45.6.7  www.google.com
```

ファイルを保存して、`www.google.com` にアクセスしてみてください。問題が発生しましたね？それは、`www.google.com` を完全に間違った IP アドレスにマッピングしたからです。ホストはまず IP アドレスのマッピングをローカルで検索するため、google.com を見つけるために DNS に到達することはありません。

### /etc/resolv.conf

従来、より効率的なルックアップのために DNS ネームサーバーをマッピングするために `/etc/resolv.conf` というファイルを使用していました。しかし、DNS の改善により、このファイルはしばしば不要になっています。実際、以下の私の例では、`/etc/resolv.conf` が手動で管理されていないことがわかります。DNS ネームサーバーのマッピングを管理するには、ディストリビューション固有の設定を参照してください。

```plaintext
conf(5) file for glibc resolver(3) generated by resolvconf(8)
#     DO NOT EDIT THIS FILE BY HAND -- YOUR CHANGES WILL BE OVERWRITTEN
nameserver 127.0.1.1
search localdomain
```

## Exercise

このレッスンには演習はありません。

## Quiz Question

マシン上でホスト名を IP アドレスにマッピングするために使用されるファイルは何ですか？

## Quiz Answer

/etc/hosts
