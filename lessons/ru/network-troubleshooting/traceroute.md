---
lang: "ru"
title: "traceroute"
description: "Узнайте, как использовать команду Linux traceroute для отслеживания сетевых маршрутов и устранения проблем с подключением. Изучите TTL и маршрутизацию пакетов для начинающих."
keywords: "traceroute, сети Linux, устранение неполадок сети, TTL, команды Linux, для начинающих, учебник"
---

## Lesson Content

Команда `traceroute` используется для отслеживания маршрутизации пакетов. Она работает путем отправки пакетов с увеличивающимися значениями TTL (Time To Live), начиная с 1. Таким образом, первый маршрутизатор получает пакет и уменьшает значение TTL на единицу, тем самым отбрасывая пакет. Маршрутизатор отправляет нам обратно сообщение ICMP Time Exceeded. Затем следующий пакет получает TTL равный 2, поэтому он проходит первый маршрутизатор, но когда он достигает второго маршрутизатора, TTL становится 0, и он возвращает другое сообщение ICMP Time Exceeded. Traceroute работает таким образом, потому что, отправляя и отбрасывая пакеты, он строит список маршрутизаторов, которые пакеты проходят, пока наконец не достигнут своего назначения и не получат сообщение ICMP Echo Reply.

Вот небольшой фрагмент traceroute:

```bash
$ traceroute google.com
traceroute to google.com (216.58.216.174), 30 hops max, 60 byte packets
 1  192.168.4.254 (192.168.4.254)  0.028 ms  0.009 ms  0.008 ms
 2  100.64.1.113 (100.64.1.113)  1.227 ms  1.226 ms 0.920 ms
 3  100.64.0.20 (100.64.0.20)  1.501 ms 1.556 ms  0.855 ms
```

Каждая строка представляет маршрутизатор или машину, находящуюся между вами и вашей целью. Она показывает имя цели и ее IP-адрес, а последние три столбца соответствуют времени кругового пути пакета до этого маршрутизатора. По умолчанию по маршруту отправляются три пакета.

## Exercise

Run the `traceroute` command on your machine and observe the output.

## Quiz Question

Что уменьшается на единицу при прохождении по сети?

## Quiz Answer

TTL
