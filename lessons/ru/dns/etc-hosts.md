---
index: 4
lang: "ru"
title: "/etc/hosts"
meta_title: "/etc/hosts - DNS"
meta_description: "Узнайте о файле /etc/hosts в Linux, как он сопоставляет имена хостов с IP-адресами, и его роли в разрешении DNS. Изучите базовую настройку сети."
meta_keywords: "/etc/hosts, сеть Linux, сопоставление имен хостов, разрешение DNS, учебник по Linux, руководство для начинающих"
---

## Lesson Content

Прежде чем наша машина фактически обратится к DNS для выполнения запроса, она сначала ищет локально на наших машинах.

### /etc/hosts

Файл `/etc/hosts` содержит сопоставления некоторых имен хостов с IP-адресами. Поля довольно самоочевидны: одно для IP-адреса, имя хоста, а затем любые псевдонимы для хоста.

```plaintext
pete@icebox:~$ cat /etc/hosts
127.0.0.1       localhost
127.0.1.1       icebox
```

Обычно вы увидите свой адрес localhost, указанный по умолчанию в этом файле. Вы также можете управлять доступом к хостам, изменяя файлы `/etc/hosts.deny` или `/etc/hosts.allow`. Однако, если вы заботитесь о безопасности, это не лучший способ, и вместо этого вам следует изменять правила вашего брандмауэра.

Давайте посмотрим забавный пример `/etc/hosts`. Измените файл и добавьте строку для:

```plaintext
123.45.6.7  www.google.com
```

Сохраните файл и теперь перейдите на `www.google.com`. Возникли проблемы, не так ли? Что ж, это потому, что мы только что сопоставили `www.google.com` с совершенно неправильным IP-адресом. Поскольку наши хосты сначала ищут локально сопоставления IP-адресов, они никогда не достигают DNS для поиска google.com.

### /etc/resolv.conf

Традиционно мы использовали файл `/etc/resolv.conf` для сопоставления серверов имен DNS для более эффективного поиска. Однако с улучшениями, внесенными в DNS, этот файл довольно часто становится неактуальным. Фактически, вы можете увидеть в моем примере ниже, что `/etc/resolv.conf` не управляется вручную. Обратитесь к настройкам вашего дистрибутива для управления сопоставлениями серверов имен DNS.

```plaintext
conf(5) file for glibc resolver(3) generated by resolvconf(8)
#     DO NOT EDIT THIS FILE BY HAND -- YOUR CHANGES WILL BE OVERWRITTEN
nameserver 127.0.1.1
search localdomain
```

## Exercise

Практика ведет к совершенству! Вот несколько практических заданий для закрепления вашего понимания разрешения локальных имен хостов и DNS-запросов:

1. **[Управление разрешением локальных имен хостов в Linux](https://labex.io/ru/labs/comptia-manage-local-hostname-resolution-in-linux-592792)** - Попрактикуйтесь в редактировании файла `/etc/hosts` для управления разрешением локальных имен хостов, что является ключевым шагом перед DNS-запросами.
2. **[Запрос DNS-записей в Linux с помощью dig и nslookup](https://labex.io/ru/labs/comptia-query-dns-records-in-linux-with-dig-and-nslookup-592796)** - Научитесь запрашивать DNS-записи с помощью основных инструментов Linux, таких как `dig` и `nslookup`, чтобы понять, как ваша машина разрешает внешние имена.

Эти лабораторные работы помогут вам применить концепции в реальных сценариях и укрепить уверенность в разрешении имен хостов и DNS.

## Quiz Question

Какой файл используется для сопоставления имен хостов с IP-адресами на наших машинах?

## Quiz Answer

/etc/hosts
