---
index: 3
lang: "ru"
title: "Путь пакета"
meta_title: "Путь пакета - Маршрутизация"
meta_description: "Узнайте, как пакет перемещается внутри и за пределами сети. Разберитесь в IP, MAC, ARP и таблицах маршрутизации для сетевой связи. Начните свой путь в сетевых технологиях Linux!"
meta_keywords: "перемещение пакетов, сетевая связь, ARP, IP-адрес, MAC-адрес, таблица маршрутизации, сети Linux, руководство для начинающих"
---

## Lesson Content

### Давайте посмотрим, как пакет перемещается внутри своей локальной сети

1. Сначала локальная машина сравнит IP-адрес назначения, чтобы определить, находится ли он в той же подсети, просмотрев свою маску подсети.
2. При отправке пакетов они должны иметь MAC-адрес источника, MAC-адрес назначения, IP-адрес источника и IP-адрес назначения. На данный момент мы не знаем MAC-адрес назначения.
3. Чтобы добраться до хоста назначения, мы используем ARP для широковещательной рассылки запроса в локальной сети для поиска MAC-адреса хоста назначения.
4. Теперь пакет может быть успешно отправлен!

### Давайте посмотрим, как пакет перемещается за пределы своей сети

1. Сначала локальная машина сравнит IP-адрес назначения. Поскольку он находится за пределами нашей сети, он не видит MAC-адреса хоста назначения. И мы не можем использовать ARP, потому что запрос ARP является широковещательным для локально подключенных хостов.
2. Итак, наш пакет теперь смотрит на таблицу маршрутизации. Он не знает адрес IP-адреса назначения, поэтому отправляет его шлюзу по умолчанию (другому маршрутизатору). Итак, теперь наш пакет содержит наш исходный IP, IP-адрес назначения и MAC-адрес источника; однако у нас нет MAC-адреса назначения. Помните, что MAC-адреса доступны только через ту же сеть. Так что же он делает? Он отправляет ARP-запрос, чтобы получить MAC-адрес шлюза по умолчанию.
3. Маршрутизатор просматривает пакет и подтверждает MAC-адрес назначения, но это не конечный IP-адрес назначения, поэтому он продолжает просматривать таблицу маршрутизации, чтобы переслать пакет на другой IP-адрес, который может помочь пакету добраться до места назначения. Каждый раз, когда пакет перемещается, он удаляет старые MAC-адреса источника и назначения и обновляет пакет новыми MAC-адресами источника и назначения.
4. Как только пакет пересылается в ту же сеть, мы используем ARP для поиска конечного MAC-адреса назначения.
5. В ходе этого процесса наш пакет не изменяет IP-адрес источника или назначения.

## Exercise

Практика ведет к совершенству! Вот несколько практических заданий для закрепления вашего понимания базового управления файлами и каталогами Linux:

1. **[Базовые операции с файлами в Linux](https://labex.io/ru/labs/linux-basic-file-operations-in-linux-18001)** - Практикуйтесь в навигации по файловой системе, управлении файлами и каталогами, а также использовании сочетаний клавиш командной строки в реальной среде Linux.
2. **[Операции с файлами и каталогами](https://labex.io/ru/labs/linux-file-and-directory-operations-17997)** - Научитесь навигировать по структуре каталогов, управлять файлами и папками, а также использовать мощные инструменты командной строки, такие как `ls`, `cd`, `mkdir`, `cp`, `mv` и `rm`.
3. **[Организация файлов и каталогов](https://labex.io/ru/labs/linux-organizing-files-and-directories-387877)** - Практикуйте основные навыки управления файлами Linux, используя команды `cp`, `mv` и `rm` для организации структуры проекта, перемещения файлов и очистки ненужных каталогов.

Эти лабораторные работы помогут вам применить концепции в реальных сценариях и обрести уверенность во взаимодействии с файловой системой Linux.

## Quiz Question

Как мы находим MAC-адрес IP-адреса?

## Quiz Answer

ARP
