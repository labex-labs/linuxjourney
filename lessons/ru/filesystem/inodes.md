---
index: 11
lang: "ru"
title: "Inodes"
meta_title: "Inodes - Файловая система"
meta_description: "Узнайте о Linux inodes, их структуре и способах управления файлами. Разберитесь с номерами inode и используйте `df -i` и `ls -li` для проверки использования inode. Начните свое путешествие по Linux!"
meta_keywords: "Linux inodes, учебник по inode, df -i, ls -li, файловая система Linux, Linux для начинающих, руководство по Linux"
---

## Lesson Content

Помните, как наша файловая система состоит из всех наших фактических файлов и базы данных, которая управляет этими файлами? Эта база данных известна как таблица inode.

### Что такое inode?

Inode (индексный узел) — это запись в этой таблице, и она существует для каждого файла. Она описывает все о файле, например:

- Тип файла — обычный файл, каталог, символьное устройство и т. д.
- Владелец
- Группа
- Права доступа
- Временные метки — mtime (время последней модификации файла), ctime (время последнего изменения атрибутов), atime (время последнего доступа)
- Количество жестких ссылок на файл
- Размер файла
- Количество блоков, выделенных файлу
- Указатели на блоки данных файла — самое важное!

По сути, inodes хранят все о файле, кроме имени файла и самого файла!

### Когда создаются inodes?

При создании файловой системы также выделяется место для inodes. Алгоритмы определяют, сколько места для inodes вам нужно, в зависимости от объема диска и других факторов. Вероятно, в какой-то момент своей жизни вы сталкивались с ошибками из-за нехватки места на диске. То же самое может произойти и с inodes (хотя это менее распространено); у вас могут закончиться inodes, и, следовательно, вы не сможете создавать больше файлов. Помните, хранение данных зависит как от самих данных, так и от базы данных (inodes).

Чтобы узнать, сколько inodes осталось в вашей системе, используйте команду `df -i`.

### Информация об inode

Inodes идентифицируются по номерам. Когда файл создается, ему присваивается номер inode, и номер присваивается в последовательном порядке. Однако иногда вы можете заметить, что при создании нового файла ему присваивается номер inode, который меньше других. Это потому, что после удаления inodes они могут быть повторно использованы другими файлами. Чтобы просмотреть номера inode, выполните `ls -li`:

```bash
pete@icebox:~$ ls -li
140 drwxr-xr-x 2 pete pete 6 Jan 20 20:13 Desktop
141 drwxr-xr-x 2 pete pete 6 Jan 20 20:01 Documents
```

Первое поле в этой команде перечисляет номер inode.

Вы также можете просмотреть подробную информацию о файле с помощью `stat`; она также сообщает вам информацию об inode.

```bash
pete@icebox:~$ stat ~/Desktop/
  File: ‘/home/pete/Desktop/’
  Size: 6               Blocks: 0          IO Block: 4096   directory
Device: 806h/2054d      Inode: 140         Links: 2
Access: (0755/drwxr-xr-x)  Uid: ( 1000/   pete)   Gid: ( 1000/   pete)
Access: 2016-01-20 20:13:50.647435982 -0800
Modify: 2016-01-20 20:13:06.191675843 -0800
Change: 2016-01-20 20:13:06.191675843 -0800
 Birth: -
```

### Как inodes находят файлы?

Мы знаем, что наши данные где-то на диске. К сожалению, они, вероятно, не были сохранены последовательно, поэтому нам приходится использовать inodes. Inodes указывают на фактические блоки данных ваших файлов. В типичной файловой системе (не все работают одинаково) каждый inode содержит 15 указателей. Первые 12 указателей указывают непосредственно на блоки данных. 13-й указатель указывает на блок, содержащий указатели на другие блоки, 14-й указатель указывает на другой вложенный блок указателей, а 15-й указатель снова указывает на другой блок указателей! Запутанно, я знаю! Причина, по которой это сделано таким образом, заключается в том, чтобы сохранить структуру inode одинаковой для каждого inode, но при этом иметь возможность ссылаться на файлы разных размеров. Если у вас был небольшой файл, вы могли бы найти его быстрее с помощью первых 12 прямых указателей; более крупные файлы можно найти с помощью вложенных указателей. В любом случае, структура inode одинакова.

## Exercise

Практика ведет к совершенству! Вот несколько практических заданий для закрепления вашего понимания файловой системы Linux и управления файлами:

1. **[Управление файлами и каталогами в Linux](https://labex.io/ru/labs/comptia-manage-files-and-directories-in-linux-590835)** - Практикуйтесь в создании, удалении, копировании и перемещении файлов и каталогов, а также изучайте создание символических и жестких ссылок, анализируя inodes.
2. **[Навигация по файловой системе в Linux](https://labex.io/ru/labs/comptia-navigate-the-filesystem-in-linux-590971)** - Изучите основные навыки навигации по файловой системе Linux с помощью основных команд оболочки, таких как `pwd`, `cd` и `ls`.
3. **[Поиск файлов и команд в Linux](https://labex.io/ru/labs/comptia-find-files-and-commands-in-linux-590834)** - Освойте основные методы поиска файлов и команд в Linux с помощью `find`, `locate`, `whereis`, `which` и `type`.

Эти лабораторные работы помогут вам применить концепции в реальных сценариях и обрести уверенность в управлении файловой системой Linux.

## Quiz Question

Как узнать, сколько inodes осталось в вашей системе?

## Quiz Answer

df -i
