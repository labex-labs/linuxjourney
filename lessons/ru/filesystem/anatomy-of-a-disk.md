---
index: 3
lang: "ru"
title: "Анатомия диска"
meta_title: "Анатомия диска - Файловая система"
meta_description: "Узнайте о разбиении дисков Linux, MBR против GPT и структуре файловой системы. Разберитесь в разделах, таблицах и способах организации данных. Начните с этого руководства для начинающих!"
meta_keywords: "Разбиение дисков Linux, MBR, GPT, структура файловой системы, разделы Linux, для начинающих, учебник, руководство"
---

## Lesson Content

Жесткие диски могут быть разделены на разделы, по сути, создавая несколько блочных устройств. Вспомните такие примеры, как `/dev/sda1` и `/dev/sda2`. `/dev/sda` — это весь диск, а `/dev/sda1` — это первый раздел на этом диске. Разделы чрезвычайно полезны для разделения данных, и если вам нужна определенная файловая система, вы можете легко создать раздел вместо того, чтобы делать весь диск одним типом файловой системы.

### Таблица разделов

У каждого диска будет таблица разделов. Эта таблица сообщает системе, как диск разбит на разделы. Эта таблица сообщает вам, где начинаются и заканчиваются разделы, какие разделы являются загрузочными, какие секторы диска выделены какому разделу и т. д. Используются две основные схемы таблиц разделов: Master Boot Record (MBR) и GUID Partition Table (GPT).

### Раздел

Диски состоят из разделов, которые помогают нам организовывать наши данные. На диске может быть несколько разделов, и они не могут перекрываться. Если есть пространство, не выделенное разделу, то оно известно как свободное пространство. Типы разделов зависят от вашей таблицы разделов. Внутри раздела вы можете иметь файловую систему или выделить раздел для других целей, таких как swap (мы скоро к этому вернемся).

_MBR_

- Традиционная таблица разделов, использовалась как стандарт
- Может иметь первичные, расширенные и логические разделы
- MBR имеет ограничение в четыре первичных раздела
- Дополнительные разделы могут быть созданы путем преобразования первичного раздела в расширенный раздел (на диске может быть только один расширенный раздел). Затем внутри расширенного раздела вы добавляете логические разделы. Логические разделы используются так же, как и любой другой раздел. Глупо, я знаю.
- Поддерживает диски до 2 терабайт

_GPT_

- GUID Partition Table (GPT) становится новым стандартом для разбиения дисков на разделы
- Имеет только один тип раздела, и вы можете создать много таких разделов
- Каждый раздел имеет глобально уникальный идентификатор (GUID)
- Используется в основном в сочетании с загрузкой на основе UEFI (мы рассмотрим детали в другом курсе)

### Структура файловой системы

Из нашего предыдущего урока мы знаем, что файловая система — это организованная коллекция файлов и каталогов. В своей простейшей форме она состоит из базы данных для управления файлами и самих файлов; однако мы углубимся в детали.

- Boot block - Он расположен в первых нескольких секторах файловой системы и на самом деле не используется файловой системой. Скорее, он содержит информацию, используемую для загрузки операционной системы. Операционной системе нужен только один загрузочный блок. Если у вас несколько разделов, у них будут загрузочные блоки, но многие из них не используются.
- Super block - Это один блок, который идет после загрузочного блока, и он содержит информацию о файловой системе, такую как размер таблицы inode, размер логических блоков и размер файловой системы.
- Inode table - Думайте об этом как о базе данных, которая управляет нашими файлами (у нас есть целый урок по inodes, так что не волнуйтесь). Каждый файл или каталог имеет уникальную запись в таблице inode, и она содержит различную информацию о файле.
- Data blocks - Это фактические данные для файлов и каталогов.

Давайте посмотрим на различные таблицы разделов. Ниже приведен пример раздела, использующего таблицу разделов MBR (msdos). Вы можете видеть первичные, расширенные и логические разделы на машине.

```plaintext
pete@icebox:~$ sudo parted -l
Model: Seagate (scsi)
Disk /dev/sda: 21.5GB
Sector size (logical/physical): 512B/512B
Partition Table: msdos

Number  Start   End     Size    Type      File system     Flags
 1      1049kB  6860MB  6859MB  primary   ext4            boot
 2      6861MB  21.5GB  14.6GB  extended
 5      6861MB  7380MB  519MB   logical   linux-swap(v1)
 6      7381MB  21.5GB  14.1GB  logical   xfs
```

Этот пример — GPT, использующий только уникальный идентификатор для разделов.

```plaintext
Model: Thumb Drive (scsi)
Disk /dev/sdb: 4041MB
Sector size (logical/physical): 512B/512B
Partition Table: gpt

Number  Start   End     Size     File system  Name        Flags
 1      17.4kB  1000MB  1000MB                first
 2      1000MB  4040MB  3040MB                second
```

## Exercise

Практика ведет к совершенству! Вот несколько практических заданий для закрепления вашего понимания разбиения дисков на разделы и файловых систем:

1. **[Управление разделами и файловыми системами Linux](https://labex.io/ru/labs/comptia-manage-linux-partitions-and-filesystems-590845)** - Практикуйтесь в создании новых разделов, их форматировании с помощью файловых систем, таких как ext4, их монтировании и настройке постоянного монтирования в `/etc/fstab`.

Эта лаборатория поможет вам применить концепции управления дисками в реальных сценариях и укрепить уверенность в работе с хранилищем Linux.

## Quiz Question

Какой тип раздела используется для создания более 4 разделов в схеме разбиения MBR?

## Quiz Answer

extended
