---
index: 5
lang: "ru"
title: "Samba"
meta_title: "Samba - Сетевой доступ"
meta_description: "Научитесь настраивать общие файловые ресурсы Samba в Linux для Windows и macOS. Это руководство для начинающих охватывает установку, настройку и доступ к общим ресурсам. Начните прямо сейчас!"
meta_keywords: "Samba, общий доступ к файлам Linux, smb.conf, CIFS, smbclient, учебник Linux, руководство для начинающих"
---

## Lesson Content

В первые дни развития вычислительной техники возникла необходимость обмена файлами между машинами под управлением Windows и Linux; так родился протокол Server Message Block (SMB). SMB использовался для обмена файлами между операционными системами Windows (macOS также поддерживает обмен файлами по SMB) и позже был усовершенствован и оптимизирован в форме протокола Common Internet File System (CIFS).

Samba — это набор утилит Linux для работы с CIFS в Linux. Помимо обмена файлами, вы также можете обмениваться такими ресурсами, как принтеры.

### Создание сетевой папки с помощью Samba

Давайте рассмотрим основные шаги по созданию сетевой папки, к которой может получить доступ машина под управлением Windows:

### Установка Samba

```bash
sudo apt update
sudo apt install samba
```

### Настройка smb.conf

Файл конфигурации Samba находится по адресу `/etc/samba/smb.conf`. Этот файл должен указывать системе, какие каталоги должны быть общими, их права доступа и другие параметры. Файл `smb.conf` по умолчанию уже содержит много закомментированного кода, и вы можете использовать его в качестве примера для написания собственных конфигураций.

```bash
sudo vi /etc/samba/smb.conf
```

### Установка пароля для Samba

```bash
sudo smbpasswd -a [username]
```

### Создание общей директории

```bash
mkdir /my/directory/to/share
```

### Перезапуск службы Samba

```bash
sudo service smbd restart
```

### Доступ к общей папке Samba через Windows

В Windows просто введите сетевое подключение в окне «Выполнить»: `\\HOST\sharename`.

### Доступ к общей папке Samba/Windows через Linux

```bash
smbclient //HOST/directory -U user
```

Пакет Samba включает инструмент командной строки под названием **smbclient**, который вы можете использовать для доступа к любому серверу Windows или Samba. После подключения к общей папке вы можете перемещаться и передавать файлы.

### Подключение общей папки Samba к вашей системе

Вместо того чтобы передавать файлы по одному, вы можете просто смонтировать сетевую папку в вашей системе.

```bash
sudo mount -t cifs servername:directory mountpoint -o user=username,pass=password
```

## Exercise

Хотя для этой темы нет конкретных лабораторных работ, мы рекомендуем изучить всеобъемлющий [Путь обучения Linux](https://labex.io/ru/learn/linux), чтобы попрактиковаться в связанных навыках и концепциях Linux.

## Quiz Question

Какой протокол используется для передачи файлов между Windows и Linux?

## Quiz Answer

CIFS
