---
index: 3
lang: "ru"
title: "stderr (Стандартный поток ошибок)"
meta_title: "stderr (Стандартный поток ошибок) - Text-Fu"
meta_description: "Узнайте о перенаправлении stderr (стандартного потока ошибок) в Linux. Разберитесь с 2>, 2>&1, &> и /dev/null для обработки ошибок в Bash. Улучшите свои навыки работы с командной строкой Linux!"
meta_keywords: "Linux stderr, стандартный поток ошибок, перенаправление 2>, 2>&1, перенаправление &>, /dev/null, обработка ошибок Bash, учебник по Linux, Linux для начинающих"
---

## Lesson Content

Давайте попробуем кое-что немного другое. Попробуем вывести содержимое несуществующего каталога в вашей системе и снова перенаправить вывод в файл `peanuts.txt`.

```bash
ls /fake/directory > peanuts.txt
```

Вы должны увидеть следующее:

```plaintext
ls: cannot access /fake/directory: No such file or directory
```

Теперь вы, вероятно, думаете, разве это сообщение не должно было быть отправлено в файл? На самом деле здесь задействован другой поток ввода-вывода, называемый стандартным потоком ошибок (stderr). По умолчанию stderr также отправляет свой вывод на экран; это совершенно другой поток, чем stdout. Поэтому вам нужно будет перенаправить его вывод другим способом.

К сожалению, перенаправление не так удобно, как использование `<` или `>`, но довольно близко. Нам придется использовать файловые дескрипторы. Файловый дескриптор — это неотрицательное число, которое используется для доступа к файлу или потоку. Мы подробно рассмотрим это позже, но пока знайте, что файловые дескрипторы для stdin, stdout и stderr — это 0, 1 и 2 соответственно.

Итак, теперь, если мы хотим перенаправить наш stderr в файл, мы можем сделать это:

```bash
ls /fake/directory 2> peanuts.txt
```

Вы должны увидеть только сообщения stderr в `peanuts.txt`.

Что, если я хочу видеть как stderr, так и stdout в файле `peanuts.txt`? Это также возможно сделать с помощью файловых дескрипторов:

```bash
ls /fake/directory > peanuts.txt 2>&1
```

Это отправляет результаты `ls /fake/directory` в файл `peanuts.txt`, а затем перенаправляет stderr в stdout через `2>&1`. Порядок операций здесь имеет значение; `2>&1` отправляет stderr туда, куда указывает stdout. В данном случае stdout указывает на файл, поэтому `2>&1` также отправляет stderr в файл. Итак, если вы откроете файл `peanuts.txt`, вы должны увидеть как stderr, так и stdout. В нашем случае приведенная выше команда выводит только stderr.

Существует более короткий способ перенаправить как stdout, так и stderr в файл:

```bash
ls /fake/directory &> peanuts.txt
```

Что, если я не хочу всей этой ерунды и хочу полностью избавиться от сообщений stderr? Что ж, вы также можете перенаправить вывод в специальный файл под названием `/dev/null`, и он отбросит любой ввод.

```bash
ls /fake/directory 2> /dev/null
```

## Exercise

Что делает следующая команда?

```bash
ls /fake/directory >> /dev/null 2>&1
```

## Quiz Question

Какой перенаправитель используется для stderr?

## Quiz Answer

2>
